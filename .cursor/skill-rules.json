{
  "description": "Tego Standard 项目 Cursor 技能激活规则",
  "notes": {
    "enforcement_types": {
      "suggest": "技能建议出现但不阻止执行",
      "block": "需要先使用技能才能继续（护栏）",
      "warn": "显示警告但允许继续"
    },
    "priority_levels": {
      "high": "重要 - 大多数匹配时触发",
      "medium": "中等 - 明确匹配时触发",
      "low": "可选 - 仅在显式匹配时触发"
    },
    "customization": {
      "pathPatterns": "根据项目结构调整路径模式",
      "keywords": "添加与项目相关的领域特定术语",
      "intentPatterns": "使用正则表达式进行灵活的用户意图匹配"
    }
  },
  "skills": {
    "backend-guidelines": {
      "type": "domain",
      "priority": "high",
      "description": "后端开发指南 - Node.js/TypeScript 模式",
      "promptTriggers": {
        "keywords": [
          "backend",
          "后端",
          "API",
          "route",
          "路由",
          "controller",
          "控制器",
          "service",
          "服务",
          "repository",
          "仓库",
          "Express",
          "Prisma",
          "数据库",
          "database",
          "endpoint",
          "中间件",
          "middleware",
          "验证",
          "validation",
          "module",
          "模块",
          "plugin",
          "插件"
        ],
        "intentPatterns": [
          "(create|add|implement|build|创建|添加|实现|构建).*?(route|endpoint|API|controller|service|repository|module|plugin|路由|端点|控制器|服务|模块|插件)",
          "(fix|handle|debug|修复|处理|调试).*?(error|exception|backend|错误|异常|后端)",
          "(how to|best practice|如何|最佳实践).*?(backend|route|controller|service|module|plugin|后端|路由|控制器|服务|模块|插件)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "packages/module-*/src/**/*.ts",
          "packages/plugin-*/src/**/*.ts",
          "packages/*/src/server/**/*.ts",
          "packages/*/src/**/server/**/*.ts",
          "**/server/**/*.ts",
          "**/api/**/*.ts"
        ],
        "pathExclusions": ["**/*.test.ts", "**/*.spec.ts", "**/*.d.ts"],
        "contentPatterns": [
          "router\\.",
          "app\\.(get|post|put|delete|patch)",
          "export.*Controller",
          "export.*Service",
          "prisma\\.",
          "import.*Express",
          "extends.*Module",
          "extends.*Plugin"
        ]
      },
      "ruleFile": ".cursor/rules/backend-guidelines.md"
    },
    "frontend-guidelines": {
      "type": "domain",
      "priority": "high",
      "description": "前端开发指南 - React/TypeScript 模式",
      "promptTriggers": {
        "keywords": [
          "component",
          "组件",
          "React",
          "UI",
          "frontend",
          "前端",
          "tsx",
          "page",
          "页面",
          "modal",
          "对话框",
          "form",
          "表单",
          "styling",
          "样式",
          "client",
          "客户端",
          "schema",
          "Schema"
        ],
        "intentPatterns": [
          "(create|add|make|build|update|modify|edit|创建|添加|制作|构建|更新|修改|编辑).*?(component|UI|page|modal|dialog|form|schema|组件|页面|对话框|表单)",
          "(how to|best practice|如何|最佳实践).*?(component|react|schema|组件)",
          "(style|design|layout|样式|设计|布局).*?(component|UI|组件)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "packages/client/src/**/*.tsx",
          "packages/module-*/src/**/*.tsx",
          "packages/plugin-*/src/**/*.tsx",
          "packages/*/src/client/**/*.tsx",
          "**/components/**/*.tsx"
        ],
        "pathExclusions": ["**/*.test.tsx", "**/*.spec.tsx", "**/*.stories.tsx"],
        "contentPatterns": [
          "import.*React",
          "export.*function.*Component",
          "export.*const.*=.*\\(.*\\).*=>",
          "from 'react'",
          "useState|useEffect|useCallback",
          "SchemaComponent",
          "@tachybase/client"
        ]
      },
      "ruleFile": ".cursor/rules/frontend-guidelines.md"
    },
    "database-patterns": {
      "type": "domain",
      "priority": "medium",
      "description": "数据库模式和 Prisma 最佳实践",
      "promptTriggers": {
        "keywords": [
          "database",
          "数据库",
          "Prisma",
          "migration",
          "迁移",
          "schema",
          "模式",
          "model",
          "模型",
          "query",
          "查询",
          "collection",
          "集合"
        ],
        "intentPatterns": [
          "(create|add|modify|update|创建|添加|修改|更新).*?(migration|schema|model|collection|迁移|模式|模型|集合)",
          "(how to|best practice|如何|最佳实践).*?(prisma|database|Prisma|数据库)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "packages/module-*/src/**/*.ts",
          "**/prisma/**/*.ts",
          "**/schema.prisma",
          "**/database/**/*.ts"
        ],
        "contentPatterns": ["prisma\\.", "model\\s+\\w+", "@prisma/client", "defineCollection", "@tachybase/database"]
      },
      "ruleFile": ".cursor/rules/database-patterns.md"
    },
    "packages-client": {
      "type": "domain",
      "priority": "medium",
      "description": "Client 包开发规则 - @tachybase/client",
      "promptTriggers": {
        "keywords": ["client", "客户端", "@tachybase/client", "Application", "Plugin", "APIClient", "SchemaComponent"],
        "intentPatterns": [
          "(create|add|implement|构建|创建|添加|实现).*?(plugin|application|client|插件|应用|客户端)",
          "(how to|如何).*?(use|使用).*?(@tachybase/client|client|客户端)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": ["packages/client/src/**/*.ts", "packages/client/src/**/*.tsx"],
        "contentPatterns": [
          "@tachybase/client",
          "class.*extends.*Plugin",
          "class.*extends.*Application",
          "useAPIClient",
          "SchemaComponent"
        ]
      },
      "ruleFile": ".cursor/rules/packages-client.md"
    },
    "internationalization": {
      "type": "domain",
      "priority": "high",
      "enforcement": "warn",
      "description": "国际化开发规则 - i18n/翻译文件同步（必须更新所有语言文件）",
      "promptTriggers": {
        "keywords": [
          "i18n",
          "国际化",
          "internationalization",
          "locale",
          "翻译",
          "translation",
          "多语言",
          "language",
          "语言",
          "en-US",
          "zh-CN",
          "ko_KR",
          "ja-JP",
          "pt-BR",
          "fr-FR",
          "es-ES",
          "ru-RU",
          "tr-TR",
          "locale file",
          "语言包",
          "翻译文件"
        ],
        "intentPatterns": [
          "(create|add|modify|update|创建|添加|修改|更新).*?(translation|locale|i18n|翻译|国际化|语言包)",
          "(how to|如何).*?(add|create|添加|创建).*?(translation|locale|翻译|语言包)",
          "(sync|synchronize|同步).*?(translation|locale|翻译|语言包)",
          "(missing|缺少|缺失).*?(translation|locale|翻译|语言包)",
          "(update|更新).*?(locale|翻译).*?(file|文件)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "packages/*/src/locale/**/*.{ts,json}",
          "packages/*/src/**/locale/**/*.{ts,json}",
          "**/locale/**/*.{ts,json}"
        ],
        "contentPatterns": [
          "i18n\\.t\\(",
          "useTranslation",
          "app\\.i18n",
          "ctx\\.i18n",
          "changeLanguage",
          "en-US|zh-CN|ko_KR|ja-JP|pt-BR|fr-FR|es-ES|ru-RU|tr-TR",
          "\"\\w+\":\\s*\"[^\"]+\"",
          "'\\w+':\\s*'[^']+'"
        ]
      },
      "ruleFile": ".cursor/rules/development.md",
      "additionalRules": [".cursor/rules/lint-check.md", ".cursor/rules/frontend-guidelines.md"],
      "reminder": "⚠️ CRITICAL: When modifying locale files, you MUST update ALL language files (en-US, zh-CN, ko_KR, ja-JP, pt-BR, etc.), not just one or two. Check the locale directory for all existing files. / ⚠️ 关键：修改语言文件时，必须更新所有语言文件（en-US、zh-CN、ko_KR、ja-JP、pt-BR 等），不仅仅是其中一两个。检查 locale 目录中的所有现有文件。"
    },
    "testing-patterns": {
      "type": "domain",
      "priority": "medium",
      "description": "测试模式和最佳实践 - Vitest/Playwright",
      "promptTriggers": {
        "keywords": [
          "test",
          "测试",
          "spec",
          "vitest",
          "playwright",
          "e2e",
          "unit test",
          "单元测试",
          "integration test",
          "集成测试",
          "mock",
          "模拟",
          "coverage",
          "覆盖率"
        ],
        "intentPatterns": [
          "(write|create|add|编写|创建|添加).*?(test|测试)",
          "(how to|如何).*?(test|测试)",
          "(run|运行).*?(test|测试)",
          "(mock|模拟).*?(database|server|api)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/*.test.ts",
          "**/*.spec.ts",
          "**/__tests__/**/*.ts",
          "**/e2e/**/*.ts",
          "**/__e2e__/**/*.ts"
        ],
        "contentPatterns": [
          "describe\\(",
          "it\\(",
          "test\\(",
          "expect\\(",
          "mockDatabase",
          "mockServer",
          "@playwright/test"
        ]
      },
      "ruleFile": ".cursor/rules/testing.md"
    },
    "performance-optimization": {
      "type": "domain",
      "priority": "low",
      "description": "性能优化指南",
      "promptTriggers": {
        "keywords": [
          "performance",
          "性能",
          "optimize",
          "优化",
          "slow",
          "慢",
          "bottleneck",
          "瓶颈",
          "cache",
          "缓存",
          "lazy",
          "懒加载"
        ],
        "intentPatterns": [
          "(optimize|improve|优化|改进).*?(performance|性能)",
          "(why|为什么).*?(slow|慢)",
          "(how to|如何).*?(improve|optimize|改进|优化).*?(performance|性能)",
          "(fix|修复).*?(bottleneck|瓶颈)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": ["packages/*/src/**/*.{ts,tsx}"],
        "contentPatterns": [
          "useMemo|useCallback|React\\.memo",
          "lazy\\(|Suspense",
          "debounce|throttle",
          "cache\\.(get|set)",
          "performance\\.now"
        ]
      },
      "ruleFile": ".cursor/rules/performance.md"
    },
    "security-guidelines": {
      "type": "domain",
      "priority": "high",
      "description": "安全开发指南",
      "promptTriggers": {
        "keywords": [
          "security",
          "安全",
          "auth",
          "认证",
          "permission",
          "权限",
          "authorization",
          "授权",
          "xss",
          "csrf",
          "sql injection",
          "SQL注入",
          "encrypt",
          "加密",
          "vulnerability",
          "漏洞"
        ],
        "intentPatterns": [
          "(implement|实现).*?(auth|security|认证|安全)",
          "(how to|如何).*?(secure|安全)",
          "(prevent|防止).*?(xss|csrf|sql injection|XSS|CSRF|SQL注入)",
          "(validate|验证).*?(input|输入)",
          "(encrypt|加密).*?(data|数据)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "packages/module-auth/src/**/*.ts",
          "packages/module-acl/src/**/*.ts",
          "packages/plugin-api-keys/src/**/*.ts",
          "packages/*/src/**/*.{ts,tsx}"
        ],
        "contentPatterns": [
          "ctx\\.getBearerToken",
          "ctx\\.auth",
          "ctx\\.acl",
          "bcrypt\\.(hash|compare)",
          "jwt\\.(sign|verify|decode)",
          "validator\\.(escape|isEmail)",
          "csrf",
          "registerSnippet"
        ]
      },
      "ruleFile": ".cursor/rules/security.md"
    },
    "code-review": {
      "type": "agent",
      "priority": "high",
      "description": "代码架构审查 Agent",
      "promptTriggers": {
        "keywords": ["review", "审查", "code review", "代码审查", "architecture", "架构"],
        "intentPatterns": [
          "(review|审查).*?(code|代码)",
          "(check|检查).*?(architecture|架构)",
          "(code review|代码审查)"
        ]
      },
      "ruleFile": ".cursor/agents/code-review.md"
    },
    "refactoring": {
      "type": "agent",
      "priority": "medium",
      "description": "重构规划 Agent",
      "promptTriggers": {
        "keywords": ["refactor", "重构", "refactoring"],
        "intentPatterns": ["(refactor|重构).*?(plan|规划)", "(how to|如何).*?(refactor|重构)"]
      },
      "ruleFile": ".cursor/agents/refactoring.md"
    },
    "documentation": {
      "type": "agent",
      "priority": "medium",
      "description": "文档生成 Agent",
      "promptTriggers": {
        "keywords": ["documentation", "文档", "document", "docs", "readme"],
        "intentPatterns": [
          "(generate|生成).*?(documentation|文档)",
          "(create|创建).*?(docs|documentation|文档)",
          "(document|文档化).*?(code|代码)"
        ]
      },
      "ruleFile": ".cursor/agents/documentation.md"
    },
    "debugging": {
      "type": "agent",
      "priority": "high",
      "description": "错误调试 Agent",
      "promptTriggers": {
        "keywords": ["debug", "调试", "error", "错误", "bug", "issue", "问题"],
        "intentPatterns": [
          "(debug|调试).*?(error|错误)",
          "(fix|修复).*?(bug|error|错误)",
          "(why|为什么).*?(error|错误)"
        ]
      },
      "ruleFile": ".cursor/agents/debugging.md"
    },
    "error-resolver": {
      "type": "agent",
      "priority": "high",
      "description": "自动错误修复 Agent",
      "promptTriggers": {
        "keywords": ["fix error", "修复错误", "resolve error", "解决错误", "TypeScript error", "lint error"],
        "intentPatterns": [
          "(fix|修复).*?(error|错误)",
          "(resolve|解决).*?(TypeScript|lint).*?(error|错误)",
          "(auto.*?fix|自动修复)"
        ]
      },
      "ruleFile": ".cursor/agents/error-resolver.md"
    }
  }
}
